/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "lib_users_js";
exports.ids = ["lib_users_js"];
exports.modules = {

/***/ "./lib/users.js":
/*!**********************!*\
  !*** ./lib/users.js ***!
  \**********************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"findUser\": function() { return /* binding */ findUser; },\n/* harmony export */   \"isUserExists\": function() { return /* binding */ isUserExists; },\n/* harmony export */   \"login\": function() { return /* binding */ login; },\n/* harmony export */   \"register\": function() { return /* binding */ register; },\n/* harmony export */   \"whoAmI\": function() { return /* binding */ whoAmI; },\n/* harmony export */   \"verifyToken\": function() { return /* binding */ verifyToken; }\n/* harmony export */ });\nconst bcrypt = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n\nconst jwt = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n\nconst jwtSecretKey = 'process.env.JWT_SECRET_KEY';\nconst saltRounds = 10;\nconst salt = bcrypt.genSaltSync(saltRounds);\n/* The `users` variable is an array that stores user objects. Each user object represents a user with\nproperties such as `id`, `username`, `email`, and `password`. In this case, there is only one user\nobject in the array with the following values: */\n\nlet users = [{\n  id: 0,\n  username: \"ron\",\n  email: \"ron@anckr.com\",\n  password: \"$2b$10$Sl8BsmAmJAKUCKlG2FlwZOgbiCGMkEkpgjEfc/FDdFMcq6RFaZjw2\"\n}];\n/**\n * The function `findUser` searches for a user in an array of users based on their username.\n * @param username - The username parameter is a string that represents the username of the user we are\n * trying to find.\n * @returns the user object that matches the given username.\n */\n\nfunction findUser(username) {\n  return users.find(user => user.username === username);\n}\nfunction isUserExists(username) {\n  return findUser(username) || false;\n}\n/**\n * The login function checks if the provided username and password are valid, and if so, generates a\n * JSON Web Token (JWT) for authentication.\n * @param username - The `username` parameter is the username entered by the user during the login\n * process. It is used to identify the user and find their corresponding account information in the\n * system.\n * @param password - The `password` parameter is the password entered by the user during the login\n * process.\n * @returns an object with either an error or a payload property. If there is an error, the object will\n * have an error property with a specific error code and message. If there is no error, the object will\n * have a payload property with a token value.\n */\n\nfunction login(username, password) {\n  if (!username || !password) {\n    return {\n      error: \"WRONG_CREDENTIAL\",\n      message: `Both Username and Password are required.`\n    };\n  }\n\n  if (!isUserExists(username)) {\n    return {\n      error: \"USER_NOT_FOUND\",\n      message: `${username} is not defined, make sure the user is registered before.`\n    };\n  }\n\n  const user = findUser(username); //user={}\n\n  const hashedPassword = hashPassword(password); // console.log(hashedPassword);\n\n  if (!checkPassword(hashedPassword, user.password)) {\n    return {\n      error: \"WRONG_CREDENTIAL\",\n      message: \"Your Password is wrong. Shame on you!(^_^)\"\n    };\n  }\n\n  const token = jwt.sign({\n    username: user.username,\n    email: user.email,\n    id: user.id\n  }, jwtSecretKey, {\n    expiresIn: 3000 // 50min\n\n  });\n  return {\n    payload: {\n      token\n    }\n  };\n}\n/**\n * The `register` function in JavaScript is used to register a user by validating their credentials and\n * adding them to a list of users if they are valid.\n * @returns an object with two properties: \"isSuccessful\" and \"payload\". The value of \"isSuccessful\" is\n * set to true, indicating that the registration was successful. The value of \"payload\" is an empty\n * object.\n */\n\nfunction register({\n  username,\n  password,\n  email\n}) {\n  if (!username || !password || !email) {\n    return errorMessage(\"WRONG_CREDENTIAL\", `Username, password and email is required.`);\n  }\n\n  const emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n  if (!emailRegex.test(email)) {\n    return errorMessage(\"WRONG_CREDENTIAL\", `${email} is wrong.`);\n  }\n\n  if (isUserExists(username)) {\n    return errorMessage(\"DUPLICATE_USER\", `${username} has already registered. Try another username(But never mind, don't do this.)`);\n  }\n\n  const hashedPassword = hashPassword(password);\n  const lastUser = users[users.length - 1];\n  console.log(lastUser);\n  const id = lastUser ? lastUser.id + 1 : 0;\n  console.log(\"users:before\", users.length);\n  users = users.concat([{\n    username,\n    password: hashedPassword,\n    email,\n    id\n  }]);\n  console.log(\"users:after\", users.length);\n  console.log(\"users\", JSON.stringify(users, null, 2));\n  return {\n    isSuccessful: true,\n    payload: {}\n  };\n}\n/**\n * The function `whoAmI` returns user information if the user exists, otherwise it returns an error\n * message.\n * @param username - The `username` parameter is a string that represents the username of a user.\n * @returns an object with either an error or a successful payload. If the username is not defined or\n * does not exist, an error object is returned with the error code \"USER_NOT_FOUND\" and a message\n * indicating that the user is not defined or registered. If the username exists, a successful payload\n * object is returned with the username, id, and email of the user.\n */\n\nfunction whoAmI(username) {\n  if (!username || !isUserExists(username)) {\n    return {\n      error: \"USER_NOT_FOUND\",\n      message: `${username} is not defined, make sure the user is registered before.`\n    };\n  }\n\n  const user = findUser(username);\n  return {\n    isSuccessful: true,\n    payload: {\n      username: user.username,\n      id: user.id,\n      email: user.email\n    }\n  };\n}\n/**\n * The function hashPassword uses bcrypt to hash a given password using a salt.\n * @param password - The password parameter is the plain text password that you want to hash.\n * @returns the hashed version of the password using bcrypt.\n */\n\nfunction hashPassword(password) {\n  return bcrypt.hashSync(password, salt);\n}\n/**\n * The function checks if a given current hashed password matches a stored hashed password.\n * @param currentHashedPassword - The current hashed password is the hashed version of the password\n * that the user is trying to authenticate with. This is typically stored in a database or some other\n * secure storage.\n * @param hashedPassword - The hashed password is the password that has been transformed using a\n * cryptographic hash function. It is a one-way transformation, meaning it cannot be reversed to obtain\n * the original password. The hashed password is typically stored in a database for security purposes.\n * @returns the result of the comparison between the current hashed password and the hashed password.\n */\n\n\nfunction checkPassword(currentHashedPassword, hashedPassword) {\n  return bcrypt.compare(currentHashedPassword, hashedPassword);\n}\n/**\n * The function `verifyToken` verifies the authenticity of a token using a secret key.\n * @param token - The token parameter is a string that represents a JSON Web Token (JWT).\n * @returns the result of the jwt.verify() function, which is the verification of the token using the\n * jwtSecretKey.\n */\n\n\nfunction verifyToken(token) {\n  return jwt.verify(token, jwtSecretKey);\n}\n/**\n * The function `errorMessage` returns an object with properties `isSuccessful`, `error`, and\n * `message`, with `isSuccessful` set to `false` and the other properties set based on the provided\n * arguments.\n * @param error - The error parameter is used to pass in any error object or error message that\n * occurred during the execution of a function or operation. It can be a string, an error object, or\n * any other type of error representation.\n * @param message - The `message` parameter is a string that represents the error message or\n * description. It is used to provide additional information about the error that occurred.\n * @returns An object with the properties \"isSuccessful\", \"error\", and \"message\" is being returned.\n */\n\nfunction errorMessage(error, message) {\n  return {\n    isSuccessful: false,\n    error,\n    message\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbmNrci1uZXh0anMvLi9saWIvdXNlcnMuanM/ZDBkYyJdLCJuYW1lcyI6WyJiY3J5cHQiLCJyZXF1aXJlIiwiand0Iiwiand0U2VjcmV0S2V5Iiwic2FsdFJvdW5kcyIsInNhbHQiLCJnZW5TYWx0U3luYyIsInVzZXJzIiwiaWQiLCJ1c2VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJmaW5kVXNlciIsImZpbmQiLCJ1c2VyIiwiaXNVc2VyRXhpc3RzIiwibG9naW4iLCJlcnJvciIsIm1lc3NhZ2UiLCJoYXNoZWRQYXNzd29yZCIsImhhc2hQYXNzd29yZCIsImNoZWNrUGFzc3dvcmQiLCJ0b2tlbiIsInNpZ24iLCJleHBpcmVzSW4iLCJwYXlsb2FkIiwicmVnaXN0ZXIiLCJlcnJvck1lc3NhZ2UiLCJlbWFpbFJlZ2V4IiwidGVzdCIsImxhc3RVc2VyIiwibGVuZ3RoIiwiY29uc29sZSIsImxvZyIsImNvbmNhdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJpc1N1Y2Nlc3NmdWwiLCJ3aG9BbUkiLCJoYXNoU3luYyIsImN1cnJlbnRIYXNoZWRQYXNzd29yZCIsImNvbXBhcmUiLCJ2ZXJpZnlUb2tlbiIsInZlcmlmeSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsTUFBTUEsTUFBTSxHQUFHQyxtQkFBTyxDQUFDLHNCQUFELENBQXRCOztBQUNBLE1BQU1DLEdBQUcsR0FBR0QsbUJBQU8sQ0FBQyxrQ0FBRCxDQUFuQjs7QUFFQSxNQUFNRSxZQUFZLEdBQUcsNEJBQXJCO0FBQ0EsTUFBTUMsVUFBVSxHQUFHLEVBQW5CO0FBQ0EsTUFBTUMsSUFBSSxHQUFHTCxNQUFNLENBQUNNLFdBQVAsQ0FBbUJGLFVBQW5CLENBQWI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSUcsS0FBSyxHQUFHLENBQ1Y7QUFDRUMsSUFBRSxFQUFFLENBRE47QUFFRUMsVUFBUSxFQUFFLEtBRlo7QUFHRUMsT0FBSyxFQUFFLGVBSFQ7QUFJRUMsVUFBUSxFQUFFO0FBSlosQ0FEVSxDQUFaO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNPLFNBQVNDLFFBQVQsQ0FBa0JILFFBQWxCLEVBQTRCO0FBQ2pDLFNBQU9GLEtBQUssQ0FBQ00sSUFBTixDQUFZQyxJQUFELElBQVVBLElBQUksQ0FBQ0wsUUFBTCxLQUFrQkEsUUFBdkMsQ0FBUDtBQUNEO0FBRU0sU0FBU00sWUFBVCxDQUFzQk4sUUFBdEIsRUFBZ0M7QUFDckMsU0FBT0csUUFBUSxDQUFDSCxRQUFELENBQVIsSUFBc0IsS0FBN0I7QUFDRDtBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDTyxTQUFTTyxLQUFULENBQWVQLFFBQWYsRUFBeUJFLFFBQXpCLEVBQW1DO0FBQ3hDLE1BQUksQ0FBQ0YsUUFBRCxJQUFhLENBQUNFLFFBQWxCLEVBQTRCO0FBQzFCLFdBQU87QUFDTE0sV0FBSyxFQUFFLGtCQURGO0FBRUxDLGFBQU8sRUFBRztBQUZMLEtBQVA7QUFJRDs7QUFFRCxNQUFJLENBQUNILFlBQVksQ0FBQ04sUUFBRCxDQUFqQixFQUE2QjtBQUMzQixXQUFPO0FBQ0xRLFdBQUssRUFBRSxnQkFERjtBQUVMQyxhQUFPLEVBQUcsR0FBRVQsUUFBUztBQUZoQixLQUFQO0FBSUQ7O0FBRUQsUUFBTUssSUFBSSxHQUFHRixRQUFRLENBQUNILFFBQUQsQ0FBckIsQ0Fmd0MsQ0FlUDs7QUFDakMsUUFBTVUsY0FBYyxHQUFHQyxZQUFZLENBQUNULFFBQUQsQ0FBbkMsQ0FoQndDLENBaUJ4Qzs7QUFFQSxNQUFJLENBQUNVLGFBQWEsQ0FBQ0YsY0FBRCxFQUFpQkwsSUFBSSxDQUFDSCxRQUF0QixDQUFsQixFQUFtRDtBQUNqRCxXQUFPO0FBQ0xNLFdBQUssRUFBRSxrQkFERjtBQUVMQyxhQUFPLEVBQUU7QUFGSixLQUFQO0FBSUQ7O0FBRUQsUUFBTUksS0FBSyxHQUFHcEIsR0FBRyxDQUFDcUIsSUFBSixDQUFTO0FBQUVkLFlBQVEsRUFBRUssSUFBSSxDQUFDTCxRQUFqQjtBQUEyQkMsU0FBSyxFQUFFSSxJQUFJLENBQUNKLEtBQXZDO0FBQThDRixNQUFFLEVBQUVNLElBQUksQ0FBQ047QUFBdkQsR0FBVCxFQUFzRUwsWUFBdEUsRUFBb0Y7QUFDaEdxQixhQUFTLEVBQUUsSUFEcUYsQ0FDL0U7O0FBRCtFLEdBQXBGLENBQWQ7QUFJQSxTQUFPO0FBQ0xDLFdBQU8sRUFBRTtBQUNQSDtBQURPO0FBREosR0FBUDtBQUtEO0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sU0FBU0ksUUFBVCxDQUFrQjtBQUFFakIsVUFBRjtBQUFZRSxVQUFaO0FBQXNCRDtBQUF0QixDQUFsQixFQUFpRDtBQUN0RCxNQUFJLENBQUNELFFBQUQsSUFBYSxDQUFDRSxRQUFkLElBQTBCLENBQUNELEtBQS9CLEVBQXNDO0FBQ3BDLFdBQU9pQixZQUFZLENBQUMsa0JBQUQsRUFBc0IsMkNBQXRCLENBQW5CO0FBQ0Q7O0FBRUQsUUFBTUMsVUFBVSxHQUNkLHVKQURGOztBQUVBLE1BQUksQ0FBQ0EsVUFBVSxDQUFDQyxJQUFYLENBQWdCbkIsS0FBaEIsQ0FBTCxFQUE2QjtBQUMzQixXQUFPaUIsWUFBWSxDQUFDLGtCQUFELEVBQXNCLEdBQUVqQixLQUFNLFlBQTlCLENBQW5CO0FBQ0Q7O0FBRUQsTUFBSUssWUFBWSxDQUFDTixRQUFELENBQWhCLEVBQTRCO0FBQzFCLFdBQU9rQixZQUFZLENBQ2pCLGdCQURpQixFQUVoQixHQUFFbEIsUUFBUywrRUFGSyxDQUFuQjtBQUlEOztBQUVELFFBQU1VLGNBQWMsR0FBR0MsWUFBWSxDQUFDVCxRQUFELENBQW5DO0FBQ0EsUUFBTW1CLFFBQVEsR0FBR3ZCLEtBQUssQ0FBQ0EsS0FBSyxDQUFDd0IsTUFBTixHQUFlLENBQWhCLENBQXRCO0FBQ0FDLFNBQU8sQ0FBQ0MsR0FBUixDQUFZSCxRQUFaO0FBQ0EsUUFBTXRCLEVBQUUsR0FBR3NCLFFBQVEsR0FBR0EsUUFBUSxDQUFDdEIsRUFBVCxHQUFjLENBQWpCLEdBQXFCLENBQXhDO0FBQ0F3QixTQUFPLENBQUNDLEdBQVIsQ0FBWSxjQUFaLEVBQTRCMUIsS0FBSyxDQUFDd0IsTUFBbEM7QUFDQXhCLE9BQUssR0FBR0EsS0FBSyxDQUFDMkIsTUFBTixDQUFhLENBQ25CO0FBQ0V6QixZQURGO0FBRUVFLFlBQVEsRUFBRVEsY0FGWjtBQUdFVCxTQUhGO0FBSUVGO0FBSkYsR0FEbUIsQ0FBYixDQUFSO0FBUUF3QixTQUFPLENBQUNDLEdBQVIsQ0FBWSxhQUFaLEVBQTJCMUIsS0FBSyxDQUFDd0IsTUFBakM7QUFDQUMsU0FBTyxDQUFDQyxHQUFSLENBQVksT0FBWixFQUFxQkUsSUFBSSxDQUFDQyxTQUFMLENBQWU3QixLQUFmLEVBQXNCLElBQXRCLEVBQTRCLENBQTVCLENBQXJCO0FBRUEsU0FBTztBQUNMOEIsZ0JBQVksRUFBRSxJQURUO0FBRUxaLFdBQU8sRUFBRTtBQUZKLEdBQVA7QUFJRDtBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDTyxTQUFTYSxNQUFULENBQWdCN0IsUUFBaEIsRUFBMEI7QUFDL0IsTUFBSSxDQUFDQSxRQUFELElBQWEsQ0FBQ00sWUFBWSxDQUFDTixRQUFELENBQTlCLEVBQTBDO0FBQ3hDLFdBQU87QUFDTFEsV0FBSyxFQUFFLGdCQURGO0FBRUxDLGFBQU8sRUFBRyxHQUFFVCxRQUFTO0FBRmhCLEtBQVA7QUFJRDs7QUFFRCxRQUFNSyxJQUFJLEdBQUdGLFFBQVEsQ0FBQ0gsUUFBRCxDQUFyQjtBQUNBLFNBQU87QUFDTDRCLGdCQUFZLEVBQUUsSUFEVDtBQUVMWixXQUFPLEVBQUU7QUFDUGhCLGNBQVEsRUFBRUssSUFBSSxDQUFDTCxRQURSO0FBRVBELFFBQUUsRUFBRU0sSUFBSSxDQUFDTixFQUZGO0FBR1BFLFdBQUssRUFBRUksSUFBSSxDQUFDSjtBQUhMO0FBRkosR0FBUDtBQVFEO0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxTQUFTVSxZQUFULENBQXNCVCxRQUF0QixFQUFnQztBQUM5QixTQUFPWCxNQUFNLENBQUN1QyxRQUFQLENBQWdCNUIsUUFBaEIsRUFBMEJOLElBQTFCLENBQVA7QUFDRDtBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQSxTQUFTZ0IsYUFBVCxDQUF1Qm1CLHFCQUF2QixFQUE4Q3JCLGNBQTlDLEVBQThEO0FBQzVELFNBQU9uQixNQUFNLENBQUN5QyxPQUFQLENBQWVELHFCQUFmLEVBQXNDckIsY0FBdEMsQ0FBUDtBQUNEO0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDTyxTQUFTdUIsV0FBVCxDQUFxQnBCLEtBQXJCLEVBQTRCO0FBQ2pDLFNBQU9wQixHQUFHLENBQUN5QyxNQUFKLENBQVdyQixLQUFYLEVBQWtCbkIsWUFBbEIsQ0FBUDtBQUNEO0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxTQUFTd0IsWUFBVCxDQUFzQlYsS0FBdEIsRUFBNkJDLE9BQTdCLEVBQXNDO0FBQ3BDLFNBQU87QUFDTG1CLGdCQUFZLEVBQUUsS0FEVDtBQUVMcEIsU0FGSztBQUdMQztBQUhLLEdBQVA7QUFLRCIsImZpbGUiOiIuL2xpYi91c2Vycy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuXG5jb25zdCBqd3RTZWNyZXRLZXkgPSAncHJvY2Vzcy5lbnYuSldUX1NFQ1JFVF9LRVknO1xuY29uc3Qgc2FsdFJvdW5kcyA9IDEwO1xuY29uc3Qgc2FsdCA9IGJjcnlwdC5nZW5TYWx0U3luYyhzYWx0Um91bmRzKTtcbi8qIFRoZSBgdXNlcnNgIHZhcmlhYmxlIGlzIGFuIGFycmF5IHRoYXQgc3RvcmVzIHVzZXIgb2JqZWN0cy4gRWFjaCB1c2VyIG9iamVjdCByZXByZXNlbnRzIGEgdXNlciB3aXRoXG5wcm9wZXJ0aWVzIHN1Y2ggYXMgYGlkYCwgYHVzZXJuYW1lYCwgYGVtYWlsYCwgYW5kIGBwYXNzd29yZGAuIEluIHRoaXMgY2FzZSwgdGhlcmUgaXMgb25seSBvbmUgdXNlclxub2JqZWN0IGluIHRoZSBhcnJheSB3aXRoIHRoZSBmb2xsb3dpbmcgdmFsdWVzOiAqL1xuXG5sZXQgdXNlcnMgPSBbXG4gIHtcbiAgICBpZDogMCxcbiAgICB1c2VybmFtZTogXCJyb25cIixcbiAgICBlbWFpbDogXCJyb25AYW5ja3IuY29tXCIsXG4gICAgcGFzc3dvcmQ6IFwiJDJiJDEwJFNsOEJzbUFtSkFLVUNLbEcyRmx3Wk9nYmlDR01rRWtwZ2pFZmMvRkRkRk1jcTZSRmFaancyXCIsXG4gIH0sXG5dO1xuLyoqXG4gKiBUaGUgZnVuY3Rpb24gYGZpbmRVc2VyYCBzZWFyY2hlcyBmb3IgYSB1c2VyIGluIGFuIGFycmF5IG9mIHVzZXJzIGJhc2VkIG9uIHRoZWlyIHVzZXJuYW1lLlxuICogQHBhcmFtIHVzZXJuYW1lIC0gVGhlIHVzZXJuYW1lIHBhcmFtZXRlciBpcyBhIHN0cmluZyB0aGF0IHJlcHJlc2VudHMgdGhlIHVzZXJuYW1lIG9mIHRoZSB1c2VyIHdlIGFyZVxuICogdHJ5aW5nIHRvIGZpbmQuXG4gKiBAcmV0dXJucyB0aGUgdXNlciBvYmplY3QgdGhhdCBtYXRjaGVzIHRoZSBnaXZlbiB1c2VybmFtZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRVc2VyKHVzZXJuYW1lKSB7XG4gIHJldHVybiB1c2Vycy5maW5kKCh1c2VyKSA9PiB1c2VyLnVzZXJuYW1lID09PSB1c2VybmFtZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1VzZXJFeGlzdHModXNlcm5hbWUpIHtcbiAgcmV0dXJuIGZpbmRVc2VyKHVzZXJuYW1lKSB8fCBmYWxzZTtcbn1cbi8qKlxuICogVGhlIGxvZ2luIGZ1bmN0aW9uIGNoZWNrcyBpZiB0aGUgcHJvdmlkZWQgdXNlcm5hbWUgYW5kIHBhc3N3b3JkIGFyZSB2YWxpZCwgYW5kIGlmIHNvLCBnZW5lcmF0ZXMgYVxuICogSlNPTiBXZWIgVG9rZW4gKEpXVCkgZm9yIGF1dGhlbnRpY2F0aW9uLlxuICogQHBhcmFtIHVzZXJuYW1lIC0gVGhlIGB1c2VybmFtZWAgcGFyYW1ldGVyIGlzIHRoZSB1c2VybmFtZSBlbnRlcmVkIGJ5IHRoZSB1c2VyIGR1cmluZyB0aGUgbG9naW5cbiAqIHByb2Nlc3MuIEl0IGlzIHVzZWQgdG8gaWRlbnRpZnkgdGhlIHVzZXIgYW5kIGZpbmQgdGhlaXIgY29ycmVzcG9uZGluZyBhY2NvdW50IGluZm9ybWF0aW9uIGluIHRoZVxuICogc3lzdGVtLlxuICogQHBhcmFtIHBhc3N3b3JkIC0gVGhlIGBwYXNzd29yZGAgcGFyYW1ldGVyIGlzIHRoZSBwYXNzd29yZCBlbnRlcmVkIGJ5IHRoZSB1c2VyIGR1cmluZyB0aGUgbG9naW5cbiAqIHByb2Nlc3MuXG4gKiBAcmV0dXJucyBhbiBvYmplY3Qgd2l0aCBlaXRoZXIgYW4gZXJyb3Igb3IgYSBwYXlsb2FkIHByb3BlcnR5LiBJZiB0aGVyZSBpcyBhbiBlcnJvciwgdGhlIG9iamVjdCB3aWxsXG4gKiBoYXZlIGFuIGVycm9yIHByb3BlcnR5IHdpdGggYSBzcGVjaWZpYyBlcnJvciBjb2RlIGFuZCBtZXNzYWdlLiBJZiB0aGVyZSBpcyBubyBlcnJvciwgdGhlIG9iamVjdCB3aWxsXG4gKiBoYXZlIGEgcGF5bG9hZCBwcm9wZXJ0eSB3aXRoIGEgdG9rZW4gdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgaWYgKCF1c2VybmFtZSB8fCAhcGFzc3dvcmQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6IFwiV1JPTkdfQ1JFREVOVElBTFwiLFxuICAgICAgbWVzc2FnZTogYEJvdGggVXNlcm5hbWUgYW5kIFBhc3N3b3JkIGFyZSByZXF1aXJlZC5gLFxuICAgIH07XG4gIH1cblxuICBpZiAoIWlzVXNlckV4aXN0cyh1c2VybmFtZSkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6IFwiVVNFUl9OT1RfRk9VTkRcIixcbiAgICAgIG1lc3NhZ2U6IGAke3VzZXJuYW1lfSBpcyBub3QgZGVmaW5lZCwgbWFrZSBzdXJlIHRoZSB1c2VyIGlzIHJlZ2lzdGVyZWQgYmVmb3JlLmAsXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IHVzZXIgPSBmaW5kVXNlcih1c2VybmFtZSk7IC8vdXNlcj17fVxuICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGhhc2hQYXNzd29yZChwYXNzd29yZCk7XG4gIC8vIGNvbnNvbGUubG9nKGhhc2hlZFBhc3N3b3JkKTtcblxuICBpZiAoIWNoZWNrUGFzc3dvcmQoaGFzaGVkUGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVycm9yOiBcIldST05HX0NSRURFTlRJQUxcIixcbiAgICAgIG1lc3NhZ2U6IFwiWW91ciBQYXNzd29yZCBpcyB3cm9uZy4gU2hhbWUgb24geW91ISheX14pXCIsXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IHRva2VuID0gand0LnNpZ24oeyB1c2VybmFtZTogdXNlci51c2VybmFtZSwgZW1haWw6IHVzZXIuZW1haWwsIGlkOiB1c2VyLmlkIH0sIGp3dFNlY3JldEtleSwge1xuICAgIGV4cGlyZXNJbjogMzAwMCwgLy8gNTBtaW5cbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBwYXlsb2FkOiB7XG4gICAgICB0b2tlbixcbiAgICB9LFxuICB9O1xufVxuXG5cbi8qKlxuICogVGhlIGByZWdpc3RlcmAgZnVuY3Rpb24gaW4gSmF2YVNjcmlwdCBpcyB1c2VkIHRvIHJlZ2lzdGVyIGEgdXNlciBieSB2YWxpZGF0aW5nIHRoZWlyIGNyZWRlbnRpYWxzIGFuZFxuICogYWRkaW5nIHRoZW0gdG8gYSBsaXN0IG9mIHVzZXJzIGlmIHRoZXkgYXJlIHZhbGlkLlxuICogQHJldHVybnMgYW4gb2JqZWN0IHdpdGggdHdvIHByb3BlcnRpZXM6IFwiaXNTdWNjZXNzZnVsXCIgYW5kIFwicGF5bG9hZFwiLiBUaGUgdmFsdWUgb2YgXCJpc1N1Y2Nlc3NmdWxcIiBpc1xuICogc2V0IHRvIHRydWUsIGluZGljYXRpbmcgdGhhdCB0aGUgcmVnaXN0cmF0aW9uIHdhcyBzdWNjZXNzZnVsLiBUaGUgdmFsdWUgb2YgXCJwYXlsb2FkXCIgaXMgYW4gZW1wdHlcbiAqIG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyKHsgdXNlcm5hbWUsIHBhc3N3b3JkLCBlbWFpbCB9KSB7XG4gIGlmICghdXNlcm5hbWUgfHwgIXBhc3N3b3JkIHx8ICFlbWFpbCkge1xuICAgIHJldHVybiBlcnJvck1lc3NhZ2UoXCJXUk9OR19DUkVERU5USUFMXCIsIGBVc2VybmFtZSwgcGFzc3dvcmQgYW5kIGVtYWlsIGlzIHJlcXVpcmVkLmApO1xuICB9XG5cbiAgY29uc3QgZW1haWxSZWdleCA9XG4gICAgL14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuICBpZiAoIWVtYWlsUmVnZXgudGVzdChlbWFpbCkpIHtcbiAgICByZXR1cm4gZXJyb3JNZXNzYWdlKFwiV1JPTkdfQ1JFREVOVElBTFwiLCBgJHtlbWFpbH0gaXMgd3JvbmcuYCk7XG4gIH1cblxuICBpZiAoaXNVc2VyRXhpc3RzKHVzZXJuYW1lKSkge1xuICAgIHJldHVybiBlcnJvck1lc3NhZ2UoXG4gICAgICBcIkRVUExJQ0FURV9VU0VSXCIsXG4gICAgICBgJHt1c2VybmFtZX0gaGFzIGFscmVhZHkgcmVnaXN0ZXJlZC4gVHJ5IGFub3RoZXIgdXNlcm5hbWUoQnV0IG5ldmVyIG1pbmQsIGRvbid0IGRvIHRoaXMuKWBcbiAgICApO1xuICB9XG5cbiAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBoYXNoUGFzc3dvcmQocGFzc3dvcmQpO1xuICBjb25zdCBsYXN0VXNlciA9IHVzZXJzW3VzZXJzLmxlbmd0aCAtIDFdO1xuICBjb25zb2xlLmxvZyhsYXN0VXNlcik7XG4gIGNvbnN0IGlkID0gbGFzdFVzZXIgPyBsYXN0VXNlci5pZCArIDEgOiAwO1xuICBjb25zb2xlLmxvZyhcInVzZXJzOmJlZm9yZVwiLCB1c2Vycy5sZW5ndGgpO1xuICB1c2VycyA9IHVzZXJzLmNvbmNhdChbXG4gICAge1xuICAgICAgdXNlcm5hbWUsXG4gICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsXG4gICAgICBlbWFpbCxcbiAgICAgIGlkLFxuICAgIH0sXG4gIF0pO1xuICBjb25zb2xlLmxvZyhcInVzZXJzOmFmdGVyXCIsIHVzZXJzLmxlbmd0aCk7XG4gIGNvbnNvbGUubG9nKFwidXNlcnNcIiwgSlNPTi5zdHJpbmdpZnkodXNlcnMsIG51bGwsIDIpKTtcblxuICByZXR1cm4ge1xuICAgIGlzU3VjY2Vzc2Z1bDogdHJ1ZSxcbiAgICBwYXlsb2FkOiB7fSxcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGUgZnVuY3Rpb24gYHdob0FtSWAgcmV0dXJucyB1c2VyIGluZm9ybWF0aW9uIGlmIHRoZSB1c2VyIGV4aXN0cywgb3RoZXJ3aXNlIGl0IHJldHVybnMgYW4gZXJyb3JcbiAqIG1lc3NhZ2UuXG4gKiBAcGFyYW0gdXNlcm5hbWUgLSBUaGUgYHVzZXJuYW1lYCBwYXJhbWV0ZXIgaXMgYSBzdHJpbmcgdGhhdCByZXByZXNlbnRzIHRoZSB1c2VybmFtZSBvZiBhIHVzZXIuXG4gKiBAcmV0dXJucyBhbiBvYmplY3Qgd2l0aCBlaXRoZXIgYW4gZXJyb3Igb3IgYSBzdWNjZXNzZnVsIHBheWxvYWQuIElmIHRoZSB1c2VybmFtZSBpcyBub3QgZGVmaW5lZCBvclxuICogZG9lcyBub3QgZXhpc3QsIGFuIGVycm9yIG9iamVjdCBpcyByZXR1cm5lZCB3aXRoIHRoZSBlcnJvciBjb2RlIFwiVVNFUl9OT1RfRk9VTkRcIiBhbmQgYSBtZXNzYWdlXG4gKiBpbmRpY2F0aW5nIHRoYXQgdGhlIHVzZXIgaXMgbm90IGRlZmluZWQgb3IgcmVnaXN0ZXJlZC4gSWYgdGhlIHVzZXJuYW1lIGV4aXN0cywgYSBzdWNjZXNzZnVsIHBheWxvYWRcbiAqIG9iamVjdCBpcyByZXR1cm5lZCB3aXRoIHRoZSB1c2VybmFtZSwgaWQsIGFuZCBlbWFpbCBvZiB0aGUgdXNlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdob0FtSSh1c2VybmFtZSkge1xuICBpZiAoIXVzZXJuYW1lIHx8ICFpc1VzZXJFeGlzdHModXNlcm5hbWUpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVycm9yOiBcIlVTRVJfTk9UX0ZPVU5EXCIsXG4gICAgICBtZXNzYWdlOiBgJHt1c2VybmFtZX0gaXMgbm90IGRlZmluZWQsIG1ha2Ugc3VyZSB0aGUgdXNlciBpcyByZWdpc3RlcmVkIGJlZm9yZS5gLFxuICAgIH07XG4gIH1cblxuICBjb25zdCB1c2VyID0gZmluZFVzZXIodXNlcm5hbWUpO1xuICByZXR1cm4ge1xuICAgIGlzU3VjY2Vzc2Z1bDogdHJ1ZSxcbiAgICBwYXlsb2FkOiB7XG4gICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgfSxcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGUgZnVuY3Rpb24gaGFzaFBhc3N3b3JkIHVzZXMgYmNyeXB0IHRvIGhhc2ggYSBnaXZlbiBwYXNzd29yZCB1c2luZyBhIHNhbHQuXG4gKiBAcGFyYW0gcGFzc3dvcmQgLSBUaGUgcGFzc3dvcmQgcGFyYW1ldGVyIGlzIHRoZSBwbGFpbiB0ZXh0IHBhc3N3b3JkIHRoYXQgeW91IHdhbnQgdG8gaGFzaC5cbiAqIEByZXR1cm5zIHRoZSBoYXNoZWQgdmVyc2lvbiBvZiB0aGUgcGFzc3dvcmQgdXNpbmcgYmNyeXB0LlxuICovXG5mdW5jdGlvbiBoYXNoUGFzc3dvcmQocGFzc3dvcmQpIHtcbiAgcmV0dXJuIGJjcnlwdC5oYXNoU3luYyhwYXNzd29yZCwgc2FsdCk7XG59XG5cbi8qKlxuICogVGhlIGZ1bmN0aW9uIGNoZWNrcyBpZiBhIGdpdmVuIGN1cnJlbnQgaGFzaGVkIHBhc3N3b3JkIG1hdGNoZXMgYSBzdG9yZWQgaGFzaGVkIHBhc3N3b3JkLlxuICogQHBhcmFtIGN1cnJlbnRIYXNoZWRQYXNzd29yZCAtIFRoZSBjdXJyZW50IGhhc2hlZCBwYXNzd29yZCBpcyB0aGUgaGFzaGVkIHZlcnNpb24gb2YgdGhlIHBhc3N3b3JkXG4gKiB0aGF0IHRoZSB1c2VyIGlzIHRyeWluZyB0byBhdXRoZW50aWNhdGUgd2l0aC4gVGhpcyBpcyB0eXBpY2FsbHkgc3RvcmVkIGluIGEgZGF0YWJhc2Ugb3Igc29tZSBvdGhlclxuICogc2VjdXJlIHN0b3JhZ2UuXG4gKiBAcGFyYW0gaGFzaGVkUGFzc3dvcmQgLSBUaGUgaGFzaGVkIHBhc3N3b3JkIGlzIHRoZSBwYXNzd29yZCB0aGF0IGhhcyBiZWVuIHRyYW5zZm9ybWVkIHVzaW5nIGFcbiAqIGNyeXB0b2dyYXBoaWMgaGFzaCBmdW5jdGlvbi4gSXQgaXMgYSBvbmUtd2F5IHRyYW5zZm9ybWF0aW9uLCBtZWFuaW5nIGl0IGNhbm5vdCBiZSByZXZlcnNlZCB0byBvYnRhaW5cbiAqIHRoZSBvcmlnaW5hbCBwYXNzd29yZC4gVGhlIGhhc2hlZCBwYXNzd29yZCBpcyB0eXBpY2FsbHkgc3RvcmVkIGluIGEgZGF0YWJhc2UgZm9yIHNlY3VyaXR5IHB1cnBvc2VzLlxuICogQHJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgY29tcGFyaXNvbiBiZXR3ZWVuIHRoZSBjdXJyZW50IGhhc2hlZCBwYXNzd29yZCBhbmQgdGhlIGhhc2hlZCBwYXNzd29yZC5cbiAqL1xuZnVuY3Rpb24gY2hlY2tQYXNzd29yZChjdXJyZW50SGFzaGVkUGFzc3dvcmQsIGhhc2hlZFBhc3N3b3JkKSB7XG4gIHJldHVybiBiY3J5cHQuY29tcGFyZShjdXJyZW50SGFzaGVkUGFzc3dvcmQsIGhhc2hlZFBhc3N3b3JkKTtcbn1cblxuLyoqXG4gKiBUaGUgZnVuY3Rpb24gYHZlcmlmeVRva2VuYCB2ZXJpZmllcyB0aGUgYXV0aGVudGljaXR5IG9mIGEgdG9rZW4gdXNpbmcgYSBzZWNyZXQga2V5LlxuICogQHBhcmFtIHRva2VuIC0gVGhlIHRva2VuIHBhcmFtZXRlciBpcyBhIHN0cmluZyB0aGF0IHJlcHJlc2VudHMgYSBKU09OIFdlYiBUb2tlbiAoSldUKS5cbiAqIEByZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGp3dC52ZXJpZnkoKSBmdW5jdGlvbiwgd2hpY2ggaXMgdGhlIHZlcmlmaWNhdGlvbiBvZiB0aGUgdG9rZW4gdXNpbmcgdGhlXG4gKiBqd3RTZWNyZXRLZXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2ZXJpZnlUb2tlbih0b2tlbikge1xuICByZXR1cm4gand0LnZlcmlmeSh0b2tlbiwgand0U2VjcmV0S2V5KTtcbn1cblxuLyoqXG4gKiBUaGUgZnVuY3Rpb24gYGVycm9yTWVzc2FnZWAgcmV0dXJucyBhbiBvYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIGBpc1N1Y2Nlc3NmdWxgLCBgZXJyb3JgLCBhbmRcbiAqIGBtZXNzYWdlYCwgd2l0aCBgaXNTdWNjZXNzZnVsYCBzZXQgdG8gYGZhbHNlYCBhbmQgdGhlIG90aGVyIHByb3BlcnRpZXMgc2V0IGJhc2VkIG9uIHRoZSBwcm92aWRlZFxuICogYXJndW1lbnRzLlxuICogQHBhcmFtIGVycm9yIC0gVGhlIGVycm9yIHBhcmFtZXRlciBpcyB1c2VkIHRvIHBhc3MgaW4gYW55IGVycm9yIG9iamVjdCBvciBlcnJvciBtZXNzYWdlIHRoYXRcbiAqIG9jY3VycmVkIGR1cmluZyB0aGUgZXhlY3V0aW9uIG9mIGEgZnVuY3Rpb24gb3Igb3BlcmF0aW9uLiBJdCBjYW4gYmUgYSBzdHJpbmcsIGFuIGVycm9yIG9iamVjdCwgb3JcbiAqIGFueSBvdGhlciB0eXBlIG9mIGVycm9yIHJlcHJlc2VudGF0aW9uLlxuICogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgYG1lc3NhZ2VgIHBhcmFtZXRlciBpcyBhIHN0cmluZyB0aGF0IHJlcHJlc2VudHMgdGhlIGVycm9yIG1lc3NhZ2Ugb3JcbiAqIGRlc2NyaXB0aW9uLiBJdCBpcyB1c2VkIHRvIHByb3ZpZGUgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXJyb3IgdGhhdCBvY2N1cnJlZC5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCB3aXRoIHRoZSBwcm9wZXJ0aWVzIFwiaXNTdWNjZXNzZnVsXCIsIFwiZXJyb3JcIiwgYW5kIFwibWVzc2FnZVwiIGlzIGJlaW5nIHJldHVybmVkLlxuICovXG5mdW5jdGlvbiBlcnJvck1lc3NhZ2UoZXJyb3IsIG1lc3NhZ2UpIHtcbiAgcmV0dXJuIHtcbiAgICBpc1N1Y2Nlc3NmdWw6IGZhbHNlLFxuICAgIGVycm9yLFxuICAgIG1lc3NhZ2UsXG4gIH07XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/users.js\n");

/***/ })

};
;